---
layout: page
tags: [python, internals, semantics]
title: Data Model
parent: Python
---

{: .no_toc }
## Table of Contents
{: .no_toc .text-delta }
- TOC
{:toc}

# Data Model

## 오브젝트, 값, 타입
 파이썬의 모든 데이터 추상화는 *오브젝트*를 통해서
 이뤄진다. 프로그램의 모든 데이터는 오브젝트와 오브젝트 사이의 관계로
 표현된다.

 모든 오브젝트는 아이덴티티, 타입, 값을 갖는다. *아이덴티티*는 한번
 만들어지면 절대 변하지 않는다. 오브젝트의 메모리 주소라고 생각해도
 된다. `is` 연산자는 두 오브젝트의 아이덴티티를 비교한다. `id()`
 함수는 아이덴티티를 표현하는 정수를 리턴한다. CPython에서 `id(x)`는
 `x`의 메모리 주소와 같다.

 오브젝트의 타입은 오브젝트가 지원하는 연산을 결정하고 그 타입의
 오브젝트가 가능한 값을 정의한다. `type()` 함수는 오브젝트의 타입(즉,
 오브젝트 그 자체)을 리턴한다. 아이덴티티와 마찬가지로 오브젝트의
 *타입* 역시 변하지 않는다.

 어떤 오브젝트의 *값*은 바뀔 수 있다. 값이 바뀔 수 있는 오브젝트는
 *가변*, 값을 바꿀 수 없는 오브젝트는 *불변*이라고 한다. 참고로,
 *불변* 컨테이너가 *가변* 오브젝트의 레퍼런스를 담고 있으면, 담고 있는
 가변 오브젝트 레퍼런스의 값은 바꿀 수 있다. 하지만, 컨테이너 자체는
 여전히 불변으로 취급되는데, 왜냐면 그 컨테이너가 *담고* 있는
 오브젝트의 집합 자체는 변할 수 없기 때문이다. 그러니까, 파이썬에서의
 불변성은 값을 절대 못바꾸는게 아니라 좀 미묘하다. 암튼 그래서 타입
 중에서 예를 들면 숫자, 문자열, 튜플은 불변이고 딕셔너리와 리스트는
 가변이다.

 어떤 오브젝트는 다른 오브젝트의 레퍼런스를 담을 수 있는데, 이를
 *컨테이너*라고 한다. 튜플, 리스트, 딕셔너리가 있다. 레퍼런스는
 컨테이너의 값의 일부이다. 대부분의 경우, "컨테이너의 값"은 담긴
 오브젝트의 값을 말하지, 아이덴티티를 말하는 게 아니다. 하지만,
 "컨테이너의 가변성"을 말할 때에는, 담겨있는 오브젝트의 아이덴티티만을
 의미한다. 그래서, 만약 튜플 같은 불변 컨테이너가 가변 오브젝트의
 레퍼런스를 담고 있다면, 그 가변 오브젝트의 값이 바뀌면 (컨테이너의)
 값도 바뀐다.

 타입은 거의 대부분의 오브젝트 행동에 영향을 준다. 오브젝트
 아이덴티티조차도 어떤 의미에서는 영향을 받는다. 불변 타입의 경우,
 새로운 값을 계산하는 연산이 실제로는 *동일한 타입과 값을 가진 기존
 오브젝트*의 레퍼런스를 리턴할 수도 있다(최적화). 반면에, 가변
 오브젝트에서는 이것이 허용되지 않는다. 예를 들어, `a=1; b=1` 에서
 `a`와 `b`는 구현에 따라 같은 `1`을 담은 오브젝트를 가리킬 수도 있고
 아닐 수도 있지만, `c=[]; d=[]` 에서는 `c`와 `d`가 두 개의 서로 다른,
 고유한, 새롭게 생선된 빈 리스트를 가리키는 것이 보장된다.

##
